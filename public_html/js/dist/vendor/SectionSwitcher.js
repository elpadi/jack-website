define(["jquery"],function(jquery){function SectionSwitcher($container,options){this.$container=$container;this.$elements=$container.find(".section-switcher__section");this.options=$.extend(this,options);this.switchEvent=new $.Event}SectionSwitcher.prototype.constructor=SectionSwitcher;SectionSwitcher.prototype.selectedIndex=0;SectionSwitcher.prototype.currentIndex=-1;SectionSwitcher.prototype.toggleOnRepeat=false;SectionSwitcher.prototype.isValidIndex=function(index){return index>=0&&index<this.$elements.length};SectionSwitcher.prototype.setSwitchEvent=function(e){this.switchEvent=e;return this};SectionSwitcher.prototype.validateSwitch=function(newIndex){if(!this.toggleOnRepeat&&newIndex===this.currentIndex){return false}if(!this.isValidIndex(newIndex)){return false}return true};SectionSwitcher.prototype.showIndex=function(newIndex){if(this.currentIndex===-1){this.show(this.$elements.eq(newIndex),this.$container)}else{this.transition(this.$elements.eq(newIndex),this.$elements.eq(this.currentIndex),this.$container)}this.currentIndex=newIndex};SectionSwitcher.prototype.hideCurrentSection=function(){this.hide(this.$elements.eq(this.currentIndex),this.$container);this.currentIndex=-1};SectionSwitcher.prototype.switchByIndex=function(newIndex){if(!this.validateSwitch(newIndex)){return}if(newIndex!==this.currentIndex){this.showIndex(newIndex)}else{this.hideCurrentSection()}};SectionSwitcher.prototype.getElementByName=function(name){return this.$elements.filter(function(i,el){return el.getAttribute("data-section-name")===name})};SectionSwitcher.prototype.switchByHash=function(hash){var $el=hash[0]==="#"?$(hash):this.getElementByName(hash);this.switchByIndex(this.$elements.index($el))};$.fn.sectionswitcher=function(options){return this.each(function(i,el){$(el).data("sectionswitcher",new SectionSwitcher($(el),options)).on("click",".section-switcher__link",function(e){e.preventDefault();var name=e.currentTarget.getAttribute("data-section-name");$(e.target).closest(".section-switcher").data("sectionswitcher").setSwitchEvent(e).switchByHash(name?name:e.currentTarget.hash)})})};return SectionSwitcher});