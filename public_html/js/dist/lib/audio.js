define([],function(){function getTracksByType(audioType){var audioElements,sounds,sources;if(audioType!==undefined&&typeof audioType!=="string"){throw new TypeError("First parameter is not a string.")}audioElements=document.getElementsByTagName("audio");if(audioElements.length===0){return new buzz.group}sources=_.flatten(_.map(audioElements,function(audioElement){return audioElement.getElementsByTagName("source")}));if(audioType===undefined){audioType=_.detect(_.pluck(sources,"type"),audioElements[0].canPlayType)}return new buzz.group(_.map(_.select(sources,function(source){return source.type===audioType}),function(source){return new buzz.sound(source.src)}))}return{getTracksByType:getTracksByType}});