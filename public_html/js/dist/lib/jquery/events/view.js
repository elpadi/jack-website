(function($){function getViewportHeight(){var height=window.innerHeight;var mode=document.compatMode;if(mode||!$.support.boxModel){height=mode=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight}return height}function check_inview(){var vpH=getViewportHeight(),scrolltop=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,elems=[];$.each($.cache,function(){if(this.events&&this.events.inview){elems.push(this.handle.elem)}});if(elems.length){$(elems).each(function(){var $el=$(this),top=$el.offset().top,height=$el.height(),inview=$el.data("inview")||false;if(scrolltop>top+height||scrolltop+vpH<top){if(inview){$el.data("inview",false);$el.trigger("inview",[false])}}else if(scrolltop<top+height){var visPart=scrolltop>top?"bottom":scrolltop+vpH<top+height?"top":"both";if(!inview||inview!==visPart){$el.data("inview",visPart);$el.trigger("inview",[true,visPart])}}})}}$(window).scroll(check_inview);$(window).resize(check_inview);$(window).click(check_inview);$(function(){check_inview()})})(jQuery);