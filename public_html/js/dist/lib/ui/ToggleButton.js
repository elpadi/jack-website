define(["jquery"],function(jquery){function ToggleButton($button){this.$button=$button;this.states=$button.data("toggle-text").split(",");this.$button.on("click",function(e){e.preventDefault();this.onButtonClick(e);return false}.bind(this))}ToggleButton.prototype.currentState=0;ToggleButton.prototype.onButtonClick=function(e){var newStateIndex=(this.currentState+1)%this.states.length;this.$button.text(this.states[newStateIndex]).trigger("newstate");this.currentState=newStateIndex};ToggleButton.prototype.setState=function(state){var index=this.states.indexOf(state);if(index===-1){}this.$button.text(state);this.currentState=index};$.fn.togglebutton=function(){return this.each(function(i,el){$(el).data("togglebutton",new ToggleButton($(el)))})};return ToggleButton});