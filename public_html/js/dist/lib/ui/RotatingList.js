define(["jquery","underscore","lib/jquery/transitions","lib/jquery/ModularList"],function(jquery,underscore,transitions,ModularList){function RotatingList($container){var items=$container.is("ul,ol")?$container.children("li"):$container.find(".rotating-list__item");var data=$container.data();this.items=new ModularList(items);"transition"in data&&(this.transition=data.transition);"transitionDuration"in data&&(this.transitionDuration=data.transitionDuration);"itemDelay"in data&&(this.delay=data.itemDelay);setTimeout(_.bind(this.advanceToNextItem,this),this.delay)}RotatingList.prototype.transition="none";RotatingList.prototype.delay=1e3;RotatingList.prototype.transitionDuration=1e3;RotatingList.prototype.advanceToNextItem=function(){this.switchItems()};RotatingList.prototype.onTransitionFinished=function(){setTimeout(_.bind(this.advanceToNextItem,this),this.delay)};RotatingList.prototype.switchItems=function(){transitions[this.transition](this.items.current(),this.items.next(),_.bind(this.onTransitionFinished,this),this.transitionDuration)};return RotatingList});